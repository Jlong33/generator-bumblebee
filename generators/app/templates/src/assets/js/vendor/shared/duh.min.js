$(function(){function e(e){var t=e.data("scrollable")?$(e.data("scrollable")).data("scrollspy"):null;DUH.scrollTo($(e.data("scroll-target")),{$scrollable:$(e.data("scrollable")),direction:t,offsetX:e.data("scroll-offset-x"),offsetY:e.data("scroll-offset-y"),speed:e.data("scroll-speed")})}function r(){var e=null;var t={};if(document.documentElement.currentStyle){e=document.documentElement.currentStyle["fontFamily"]}if(window.getComputedStyle){e=window.getComputedStyle(document.documentElement,null).getPropertyValue("font-family")}if(e!=null){e=e.replace(/['",]/g,"");t.name=e.split(":")[0];t.width=parseInt(e.split(":")[1])}return t}DUH={breakpoint:{},show:function(e){e.addClass("active").triggerHandler("DUH:show");$('[data-group="'+e.data("group")+'"]').not(e).removeClass("active").each(function(){$(this).triggerHandler("DUH:hide")});var t=e.prop("id");var n=$('[data-show-target="#'+t+'"], [data-toggle-target="#'+t+'"], [data-scroll-target="#'+t+'"]');n.each(function(){var e=$(this);e.addClass("active").triggerHandler("DUH:show");if(e.is("option")){e.prop("selected","selected")}$('[data-group="'+e.data("group")+'"]').not(e).removeClass("active").each(function(){$(this).triggerHandler("DUH:hide")})})},hide:function(e){e.removeClass("active").triggerHandler("DUH:hide");var t=e.prop("id");var n=$('[data-show-target="#'+t+'"], [data-toggle-target="#'+t+'"], [data-scroll-target="#'+t+'"], [data-hide-target="#'+t+'"]');n.each(function(){$(this).removeClass("active").triggerHandler("DUH:hide")})},toggle:function(e){if(e.hasClass("active")){this.hide(e)}else{this.show(e)}},scrollTo:function(e,t){this.show(e);t=$.extend({$scrollable:$("body"),direction:"vertical",speed:200,offsetX:0,offsetY:0},t);if(t.$scrollable.is("body")){t.$scrollable=$("html, body")}if(t.direction==="horizontal"){t.$scrollable.stop(true,true).animate({scrollLeft:t.$scrollable.scrollLeft()-t.$scrollable.offset().left+e.offset().left-t.offsetX},t.speed)}else{t.$scrollable.stop(true,true).animate({scrollTop:t.$scrollable.scrollTop()-t.$scrollable.offset().top+e.offset().top-t.offsetY},t.speed)}}};$("body").on("click","[data-show-target]",function(){DUH.show($($(this).data("show-target")))});$("body").on("click","[data-hide-target]",function(){DUH.hide($($(this).data("hide-target")))});$("body").on("click","[data-toggle-target]",function(){DUH.toggle($($(this).data("toggle-target")))});$("body").on("change","select",function(){var t=$(this).find("option:selected");if(t.data("show-target")){DUH.show($(t.data("show-target")))}if(t.data("hide-target")){DUH.hide($(t.data("hide-target")))}if(t.data("toggle-target")){DUH.toggle($(t.data("toggle-target")))}if(t.data("scroll-target")){e(t)}});$("body").on("click","[data-scroll-target]",function(){e($(this))});var t=/Firefox/i.test(navigator.userAgent);var n=t?"DOMMouseScroll":"mousewheel";$("[data-scrollspy]").on(n,function(){var e=$(this);var t=e.data("scrollspy");var n=e.scrollTop();var r=e.scrollLeft();var i=Infinity;var s=null;if(e.is("body")||e.is("html")){n=$("body").scrollTop()||$("html").scrollTop()}$('[data-scrollable="#'+e.prop("id")+'"]').each(function(){var o=$(this);var u=$(o.data("scroll-target"));var a=e.scrollTop()-e.offset().top+u.offset().top;var f=e.scrollLeft()-e.offset().left+u.offset().left;var l;if(t==="horizontal"){l=Math.abs(r-f)}else{l=Math.abs(n-a)}if(l<i){i=l;s=u}});DUH.show(s)});$(window).on("load resize",function(){var e=r();if(DUH.breakpoint.name!=e.name){DUH.breakpoint=e;$(DUH).trigger("DUH:breakpoint")}})})